<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_65) on Sat Jan 25 19:45:03 PST 2014 -->
<TITLE>
RaftNetworkClient (libraft-agent 0.1.1 API)
</TITLE>

<META NAME="date" CONTENT="2014-01-25">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="RaftNetworkClient (libraft-agent 0.1.1 API)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;PREV CLASS&nbsp;
&nbsp;NEXT CLASS</FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?io/libraft/agent/rpc/RaftNetworkClient.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="RaftNetworkClient.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
io.libraft.agent.rpc</FONT>
<BR>
Class RaftNetworkClient</H2>
<PRE>
<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</A>
  <IMG SRC="../../../../resources/inherit.gif" ALT="extended by "><B>io.libraft.agent.rpc.RaftNetworkClient</B>
</PRE>
<DL>
<DT><B>All Implemented Interfaces:</B> <DD><A HREF="http://libraft.io/javadoc/libraft-core/0.1.1/io/libraft/algorithm/RPCSender.html?is-external=true" title="class or interface in io.libraft.algorithm">RPCSender</A></DD>
</DL>
<HR>
<DL>
<DT><PRE>public final class <B>RaftNetworkClient</B><DT>extends <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A><DT>implements <A HREF="http://libraft.io/javadoc/libraft-core/0.1.1/io/libraft/algorithm/RPCSender.html?is-external=true" title="class or interface in io.libraft.algorithm">RPCSender</A></DL>
</PRE>

<P>
Network client that establishes both incoming and outgoing connections
 to <strong>every other</strong> server in the Raft cluster. Assuming that
 all servers in the cluster are functioning properly the cluster
 will eventually be fully connected.
 <p/>
 This implementation <strong>retries</strong> failed or
 broken connections repeatedly until they are established.
 Following a connection failure <code>RaftNetworkClient</code>
 will wait for <code>reconnectInterval</code> before attempting
 to reestablish the connection. Two parameters control retry
 behaviour:
 <ol>
     <li><code>minReconnectInterval</code></li>
     <li><code>additionalReconnectIntervalRange</code></li>
 </ol>
 To avoid synchronized reconnections across the cluster
 <code>reconnectInterval</code> is randomized using the formula:
 <pre>
     reconnectInterval = minReconnectInterval + randomInRange(0, additionalReconnectIntervalRange)
 </pre>
 Where:
 <ol>
     <li><code>minReconnectInterval</code> acts as the floor to
         <code>reconnectInterval</code>. It is the <strong>minimum</strong> time
         <code>RaftNetworkClient</code> will wait before reconnecting.</li>
     <li><code>additionalReconnectIntervalRange</code> acts as the random
         portion of <code>reconnectInterval</code>. It is the
         <strong>maximum additional</strong> time (optionally, 0)
         <code>RaftNetworkClient</code> will wait on top of <code>reconnectInterval</code>
         before reconnecting.</li>
 </ol>
 This means that <code>reconnectInterval</code> has the range
 <code>[minReconnectInterval, minReconnectInterval + additionalReconnectIntervalRange]</code>.
 <p/>
 This component is thread-safe.
<P>

<P>
<HR>

<P>

<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../io/libraft/agent/rpc/RaftNetworkClient.html#RaftNetworkClient(java.util.Random, io.libraft.algorithm.Timer, com.fasterxml.jackson.databind.ObjectMapper, io.libraft.agent.RaftMember, java.util.Set, int, int, int, java.util.concurrent.TimeUnit)">RaftNetworkClient</A></B>(<A HREF="http://docs.oracle.com/javase/6/docs/api/java/util/Random.html?is-external=true" title="class or interface in java.util">Random</A>&nbsp;random,
                  <A HREF="http://libraft.io/javadoc/libraft-core/0.1.1/io/libraft/algorithm/Timer.html?is-external=true" title="class or interface in io.libraft.algorithm">Timer</A>&nbsp;timer,
                  com.fasterxml.jackson.databind.ObjectMapper&nbsp;mapper,
                  <A HREF="../../../../io/libraft/agent/RaftMember.html" title="class in io.libraft.agent">RaftMember</A>&nbsp;self,
                  <A HREF="http://docs.oracle.com/javase/6/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</A>&lt;<A HREF="../../../../io/libraft/agent/RaftMember.html" title="class in io.libraft.agent">RaftMember</A>&gt;&nbsp;cluster,
                  int&nbsp;connectTimeout,
                  int&nbsp;minReconnectInterval,
                  int&nbsp;additionalReconnectIntervalRange,
                  <A HREF="http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/TimeUnit.html?is-external=true" title="class or interface in java.util.concurrent">TimeUnit</A>&nbsp;timeUnit)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Constructor.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../io/libraft/agent/rpc/RaftNetworkClient.html#appendEntries(java.lang.String, long, long, long, long, java.util.Collection)">appendEntries</A></B>(<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;server,
              long&nbsp;term,
              long&nbsp;commitIndex,
              long&nbsp;prevLogIndex,
              long&nbsp;prevLogTerm,
              <A HREF="http://docs.oracle.com/javase/6/docs/api/java/util/Collection.html?is-external=true" title="class or interface in java.util">Collection</A>&lt;<A HREF="http://libraft.io/javadoc/libraft-core/0.1.1/io/libraft/algorithm/LogEntry.html?is-external=true" title="class or interface in io.libraft.algorithm">LogEntry</A>&gt;&nbsp;entries)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../io/libraft/agent/rpc/RaftNetworkClient.html#appendEntriesReply(java.lang.String, long, long, long, boolean)">appendEntriesReply</A></B>(<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;server,
                   long&nbsp;term,
                   long&nbsp;prevLogIndex,
                   long&nbsp;entryCount,
                   boolean&nbsp;applied)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../io/libraft/agent/rpc/RaftNetworkClient.html#initialize(com.google.common.util.concurrent.ListeningExecutorService, org.jboss.netty.channel.ServerChannelFactory, org.jboss.netty.channel.ChannelFactory, io.libraft.algorithm.RPCReceiver)">initialize</A></B>(com.google.common.util.concurrent.ListeningExecutorService&nbsp;nonIoExecutorService,
           org.jboss.netty.channel.ServerChannelFactory&nbsp;serverChannelFactory,
           org.jboss.netty.channel.ChannelFactory&nbsp;clientChannelFactory,
           <A HREF="http://libraft.io/javadoc/libraft-core/0.1.1/io/libraft/algorithm/RPCReceiver.html?is-external=true" title="class or interface in io.libraft.algorithm">RPCReceiver</A>&nbsp;receiver)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Initialize the <code>RaftNetworkClient</code> instance.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../io/libraft/agent/rpc/RaftNetworkClient.html#requestVote(java.lang.String, long, long, long)">requestVote</A></B>(<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;server,
            long&nbsp;term,
            long&nbsp;lastLogIndex,
            long&nbsp;lastLogTerm)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../io/libraft/agent/rpc/RaftNetworkClient.html#requestVoteReply(java.lang.String, long, boolean)">requestVoteReply</A></B>(<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;server,
                 long&nbsp;term,
                 boolean&nbsp;voteGranted)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../io/libraft/agent/rpc/RaftNetworkClient.html#start()">start</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Start the <code>RaftNetworkClient</code>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../io/libraft/agent/rpc/RaftNetworkClient.html#stop()">stop</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Stop the <code>RaftNetworkClient</code>.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long, int)" title="class or interface in java.lang">wait</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="RaftNetworkClient(java.util.Random, io.libraft.algorithm.Timer, com.fasterxml.jackson.databind.ObjectMapper, io.libraft.agent.RaftMember, java.util.Set, int, int, int, java.util.concurrent.TimeUnit)"><!-- --></A><H3>
RaftNetworkClient</H3>
<PRE>
public <B>RaftNetworkClient</B>(<A HREF="http://docs.oracle.com/javase/6/docs/api/java/util/Random.html?is-external=true" title="class or interface in java.util">Random</A>&nbsp;random,
                         <A HREF="http://libraft.io/javadoc/libraft-core/0.1.1/io/libraft/algorithm/Timer.html?is-external=true" title="class or interface in io.libraft.algorithm">Timer</A>&nbsp;timer,
                         com.fasterxml.jackson.databind.ObjectMapper&nbsp;mapper,
                         <A HREF="../../../../io/libraft/agent/RaftMember.html" title="class in io.libraft.agent">RaftMember</A>&nbsp;self,
                         <A HREF="http://docs.oracle.com/javase/6/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</A>&lt;<A HREF="../../../../io/libraft/agent/RaftMember.html" title="class in io.libraft.agent">RaftMember</A>&gt;&nbsp;cluster,
                         int&nbsp;connectTimeout,
                         int&nbsp;minReconnectInterval,
                         int&nbsp;additionalReconnectIntervalRange,
                         <A HREF="http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/TimeUnit.html?is-external=true" title="class or interface in java.util.concurrent">TimeUnit</A>&nbsp;timeUnit)</PRE>
<DL>
<DD>Constructor.
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>random</CODE> - instance of <code>Random</code> used to generate timeout intervals<DD><CODE>timer</CODE> - instance of <code>Timer</code> used to schedule network timeouts<DD><CODE>mapper</CODE> - instance of <code>ObjectMapper</code> used to generate JSON representations of <A HREF="../../../../io/libraft/agent/protocol/RaftRPC.html" title="class in io.libraft.agent.protocol"><CODE>RaftRPC</CODE></A> messages<DD><CODE>self</CODE> - unique id of the local Raft server<DD><CODE>cluster</CODE> - set of unique ids - one for each Raft server in the cluster<DD><CODE>connectTimeout</CODE> - maximum time <code>RaftNetworkClient</code> waits to establish a connection to another Raft server<DD><CODE>minReconnectInterval</CODE> - minimum amount of time to wait before reconnecting to a Raft server<DD><CODE>additionalReconnectIntervalRange</CODE> - maximum additional time added to <code>minReconnectInterval</code> to get
                                         the actual reconnect interval<DD><CODE>timeUnit</CODE> - time unit in which all time intervals are specified</DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="initialize(com.google.common.util.concurrent.ListeningExecutorService, org.jboss.netty.channel.ServerChannelFactory, org.jboss.netty.channel.ChannelFactory, io.libraft.algorithm.RPCReceiver)"><!-- --></A><H3>
initialize</H3>
<PRE>
public void <B>initialize</B>(com.google.common.util.concurrent.ListeningExecutorService&nbsp;nonIoExecutorService,
                       org.jboss.netty.channel.ServerChannelFactory&nbsp;serverChannelFactory,
                       org.jboss.netty.channel.ChannelFactory&nbsp;clientChannelFactory,
                       <A HREF="http://libraft.io/javadoc/libraft-core/0.1.1/io/libraft/algorithm/RPCReceiver.html?is-external=true" title="class or interface in io.libraft.algorithm">RPCReceiver</A>&nbsp;receiver)</PRE>
<DL>
<DD>Initialize the <code>RaftNetworkClient</code> instance.
 <p/>
 Sets up the <code>RaftNetworkClient</code> client and server modules.
 Following a call to <code>initialize()</code> network threads are active
 but will not accept any incoming connections or establish any
 outgoing connections. As a result the caller still has
 exclusive access to underlying system resources.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>nonIoExecutorService</CODE> - shared instance of <code>ListeningExecutorService</code> used to handle any non-io tasks (address-resolution, etc.)<DD><CODE>serverChannelFactory</CODE> - instance of <code>ServerChannelFactory</code> used to handle incoming connections from remote Raft servers<DD><CODE>clientChannelFactory</CODE> - instance of <code>ChannelFactory</code> used to create outgoing connections to remote Raft servers<DD><CODE>receiver</CODE> - instance of <code>RPCReceiver</code> that will be notified of incoming <A HREF="../../../../io/libraft/agent/protocol/RaftRPC.html" title="class in io.libraft.agent.protocol"><CODE>RaftRPC</CODE></A> messages
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</A></CODE> - if this method is called multiple times</DL>
</DD>
</DL>
<HR>

<A NAME="start()"><!-- --></A><H3>
start</H3>
<PRE>
public void <B>start</B>()</PRE>
<DL>
<DD>Start the <code>RaftNetworkClient</code>.
 <p/>
 Following a call to <code>start()</code> the network threads
 will begin to do work. This means that the server component
 will accept and service incoming connections. Likewise, the
 the client component will attempt to establish outgoing
 connections to other Raft servers. As a result the caller
 no longer has exclusive access to underlying system resources.
 <p/>
 Once a successful call to <code>start()</code> is made subsequent calls are noops.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="stop()"><!-- --></A><H3>
stop</H3>
<PRE>
public void <B>stop</B>()</PRE>
<DL>
<DD>Stop the <code>RaftNetworkClient</code>.
 <p/>
 When a call to <code>stop()</code> is made
 all existing incoming and outgoing connections
 are disconnected and closed. The server component
 will stop accepting incoming connections and the
 client component will not initiate any connections
 to other Raft servers. Pending reconnect timeouts
 will fail silently. Since these timeouts may yet
 run in the future callers <strong>cannot</strong>
 assume exclusive access to system resources immediately
 following <code>stop()</code>.
 <p/>
 The network thread pools <strong>are not</strong>
 terminated. It is the caller's responsibility to call
 <CODE>ChannelFactory.releaseExternalResources()</CODE> on
 <code>serverChannelFactory</code> and <code>clientChannelFactory</code>
 to terminate them.
 <p/>
 Following a successful call to <code>stop()</code> subsequent calls are noops.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="requestVote(java.lang.String, long, long, long)"><!-- --></A><H3>
requestVote</H3>
<PRE>
public void <B>requestVote</B>(<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;server,
                        long&nbsp;term,
                        long&nbsp;lastLogIndex,
                        long&nbsp;lastLogTerm)
                 throws <A HREF="http://libraft.io/javadoc/libraft-core/0.1.1/io/libraft/algorithm/RPCException.html?is-external=true" title="class or interface in io.libraft.algorithm">RPCException</A></PRE>
<DL>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="http://libraft.io/javadoc/libraft-core/0.1.1/io/libraft/algorithm/RPCSender.html?is-external=true#requestVote(java.lang.String, long, long, long)" title="class or interface in io.libraft.algorithm">requestVote</A></CODE> in interface <CODE><A HREF="http://libraft.io/javadoc/libraft-core/0.1.1/io/libraft/algorithm/RPCSender.html?is-external=true" title="class or interface in io.libraft.algorithm">RPCSender</A></CODE></DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="http://libraft.io/javadoc/libraft-core/0.1.1/io/libraft/algorithm/RPCException.html?is-external=true" title="class or interface in io.libraft.algorithm">RPCException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="requestVoteReply(java.lang.String, long, boolean)"><!-- --></A><H3>
requestVoteReply</H3>
<PRE>
public void <B>requestVoteReply</B>(<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;server,
                             long&nbsp;term,
                             boolean&nbsp;voteGranted)
                      throws <A HREF="http://libraft.io/javadoc/libraft-core/0.1.1/io/libraft/algorithm/RPCException.html?is-external=true" title="class or interface in io.libraft.algorithm">RPCException</A></PRE>
<DL>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="http://libraft.io/javadoc/libraft-core/0.1.1/io/libraft/algorithm/RPCSender.html?is-external=true#requestVoteReply(java.lang.String, long, boolean)" title="class or interface in io.libraft.algorithm">requestVoteReply</A></CODE> in interface <CODE><A HREF="http://libraft.io/javadoc/libraft-core/0.1.1/io/libraft/algorithm/RPCSender.html?is-external=true" title="class or interface in io.libraft.algorithm">RPCSender</A></CODE></DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="http://libraft.io/javadoc/libraft-core/0.1.1/io/libraft/algorithm/RPCException.html?is-external=true" title="class or interface in io.libraft.algorithm">RPCException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="appendEntries(java.lang.String, long, long, long, long, java.util.Collection)"><!-- --></A><H3>
appendEntries</H3>
<PRE>
public void <B>appendEntries</B>(<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;server,
                          long&nbsp;term,
                          long&nbsp;commitIndex,
                          long&nbsp;prevLogIndex,
                          long&nbsp;prevLogTerm,
                          <FONT SIZE="-1"><A HREF="http://docs.oracle.com/javase/6/docs/api/javax/annotation/Nullable.html?is-external=true" title="class or interface in javax.annotation">@Nullable</A></FONT>
                          <A HREF="http://docs.oracle.com/javase/6/docs/api/java/util/Collection.html?is-external=true" title="class or interface in java.util">Collection</A>&lt;<A HREF="http://libraft.io/javadoc/libraft-core/0.1.1/io/libraft/algorithm/LogEntry.html?is-external=true" title="class or interface in io.libraft.algorithm">LogEntry</A>&gt;&nbsp;entries)
                   throws <A HREF="http://libraft.io/javadoc/libraft-core/0.1.1/io/libraft/algorithm/RPCException.html?is-external=true" title="class or interface in io.libraft.algorithm">RPCException</A></PRE>
<DL>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="http://libraft.io/javadoc/libraft-core/0.1.1/io/libraft/algorithm/RPCSender.html?is-external=true#appendEntries(java.lang.String, long, long, long, long, java.util.Collection)" title="class or interface in io.libraft.algorithm">appendEntries</A></CODE> in interface <CODE><A HREF="http://libraft.io/javadoc/libraft-core/0.1.1/io/libraft/algorithm/RPCSender.html?is-external=true" title="class or interface in io.libraft.algorithm">RPCSender</A></CODE></DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="http://libraft.io/javadoc/libraft-core/0.1.1/io/libraft/algorithm/RPCException.html?is-external=true" title="class or interface in io.libraft.algorithm">RPCException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="appendEntriesReply(java.lang.String, long, long, long, boolean)"><!-- --></A><H3>
appendEntriesReply</H3>
<PRE>
public void <B>appendEntriesReply</B>(<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;server,
                               long&nbsp;term,
                               long&nbsp;prevLogIndex,
                               long&nbsp;entryCount,
                               boolean&nbsp;applied)
                        throws <A HREF="http://libraft.io/javadoc/libraft-core/0.1.1/io/libraft/algorithm/RPCException.html?is-external=true" title="class or interface in io.libraft.algorithm">RPCException</A></PRE>
<DL>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="http://libraft.io/javadoc/libraft-core/0.1.1/io/libraft/algorithm/RPCSender.html?is-external=true#appendEntriesReply(java.lang.String, long, long, long, boolean)" title="class or interface in io.libraft.algorithm">appendEntriesReply</A></CODE> in interface <CODE><A HREF="http://libraft.io/javadoc/libraft-core/0.1.1/io/libraft/algorithm/RPCSender.html?is-external=true" title="class or interface in io.libraft.algorithm">RPCSender</A></CODE></DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="http://libraft.io/javadoc/libraft-core/0.1.1/io/libraft/algorithm/RPCException.html?is-external=true" title="class or interface in io.libraft.algorithm">RPCException</A></CODE></DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;PREV CLASS&nbsp;
&nbsp;NEXT CLASS</FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?io/libraft/agent/rpc/RaftNetworkClient.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="RaftNetworkClient.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
